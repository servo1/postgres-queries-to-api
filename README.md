# postgres-queries-to-api
Working out the best queries to generate data for an API by role and do real-time updates

Much of this was taken from queries generated by Postgrest (https://github.com/begriffs/postgrest) upon start-up by tracking the Postgresql query logs. It was also extracted with the psql console interface with psql -E and then \q view_name, etc...  
  
The primary query tablesnviews.sql generates all views and schemas with all columns aggregated by json_agg(), their types, enum values, etc...  The query only reads so safe to run to view the output.

The use case scenario and I am working on solvling is being able to run the query by group roles and determine a full list of all relations accesible to that role and then update it in a cache with DDL triggers.

I hope you find it useful and if you are up for participating, please join in.
